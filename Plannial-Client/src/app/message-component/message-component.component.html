<div class="container mt-5">
    <div class="col-10">
        <form #loginForm="ngForm" (ngSubmit)="connect()">
            <div class="input-group">
                <label class="ml-4" for="recipientId">Recipient Email</label>
                <input required class="form-control ml-2" id="recipientId" [(ngModel)]="recipientEmail"
                    name="recipientEmail"
                    type="text">
                <button [disabled]="!loginForm.valid" class="btn btn-primary ml-2" type="submit">Connect</button>
            </div>
        </form>
    </div>

    <div class="col-10 mt-3">
        <form #messageForm="ngForm" (ngSubmit)="send()">
            <div class="input-group">
                <label for="message">Message</label>
                <input required class="form-control ml-2" id="message" [(ngModel)]="message" name="message" type="text">
                <button [disabled]="!messageForm.valid" class="btn btn-success ml-2" type="submit">send</button>
            </div>
        </form>

        <div *ngIf="(messageService.messageThread$ | async)?.length > 0">
            <ul>
                <li *ngFor="let msg of (messageService.messageThread$ | async)">{{msg.senderUsername}}: {{msg.content}}</li>
            </ul>
        </div>
    </div>
</div>